<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1245.003173828125 2102.199951171875" style="max-width: 1245.003173828125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1755121094125-nzuepsd7v"><style>#mermaid-svg-1755121094125-nzuepsd7v{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v .error-icon{fill:#5a1d1d;}#mermaid-svg-1755121094125-nzuepsd7v .error-text{fill:#f48771;stroke:#f48771;}#mermaid-svg-1755121094125-nzuepsd7v .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1755121094125-nzuepsd7v .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1755121094125-nzuepsd7v .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1755121094125-nzuepsd7v .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1755121094125-nzuepsd7v .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1755121094125-nzuepsd7v .marker{fill:#cccccc;stroke:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v .marker.cross{stroke:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1755121094125-nzuepsd7v .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v .cluster-label text{fill:#e7e7e7;}#mermaid-svg-1755121094125-nzuepsd7v .cluster-label span,#mermaid-svg-1755121094125-nzuepsd7v p{color:#e7e7e7;}#mermaid-svg-1755121094125-nzuepsd7v .label text,#mermaid-svg-1755121094125-nzuepsd7v span,#mermaid-svg-1755121094125-nzuepsd7v p{fill:#cccccc;color:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v .node rect,#mermaid-svg-1755121094125-nzuepsd7v .node circle,#mermaid-svg-1755121094125-nzuepsd7v .node ellipse,#mermaid-svg-1755121094125-nzuepsd7v .node polygon,#mermaid-svg-1755121094125-nzuepsd7v .node path{fill:#1e1e1e;stroke:#6b6b6b;stroke-width:1px;}#mermaid-svg-1755121094125-nzuepsd7v .flowchart-label text{text-anchor:middle;}#mermaid-svg-1755121094125-nzuepsd7v .node .label{text-align:center;}#mermaid-svg-1755121094125-nzuepsd7v .node.clickable{cursor:pointer;}#mermaid-svg-1755121094125-nzuepsd7v .arrowheadPath{fill:#e1e1e1;}#mermaid-svg-1755121094125-nzuepsd7v .edgePath .path{stroke:#cccccc;stroke-width:2.0px;}#mermaid-svg-1755121094125-nzuepsd7v .flowchart-link{stroke:#cccccc;fill:none;}#mermaid-svg-1755121094125-nzuepsd7v .edgeLabel{background-color:#1e1e1e99;text-align:center;}#mermaid-svg-1755121094125-nzuepsd7v .edgeLabel rect{opacity:0.5;background-color:#1e1e1e99;fill:#1e1e1e99;}#mermaid-svg-1755121094125-nzuepsd7v .labelBkg{background-color:rgba(30, 30, 30, 0.5);}#mermaid-svg-1755121094125-nzuepsd7v .cluster rect{fill:#3a3d41;stroke:#303031;stroke-width:1px;}#mermaid-svg-1755121094125-nzuepsd7v .cluster text{fill:#e7e7e7;}#mermaid-svg-1755121094125-nzuepsd7v .cluster span,#mermaid-svg-1755121094125-nzuepsd7v p{color:#e7e7e7;}#mermaid-svg-1755121094125-nzuepsd7v div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#4d4d4d;border:1px solid #007fd4;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1755121094125-nzuepsd7v .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#cccccc;}#mermaid-svg-1755121094125-nzuepsd7v :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-1755121094125-nzuepsd7v .cronTrigger&gt;*{fill:#e1f5fe!important;stroke:#0277bd!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .cronTrigger span{fill:#e1f5fe!important;stroke:#0277bd!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .inngestWorker&gt;*{fill:#f3e5f5!important;stroke:#7b1fa2!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .inngestWorker span{fill:#f3e5f5!important;stroke:#7b1fa2!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .emailService&gt;*{fill:#e8f5e8!important;stroke:#2e7d32!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .emailService span{fill:#e8f5e8!important;stroke:#2e7d32!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .template&gt;*{fill:#fff3e0!important;stroke:#f57c00!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .template span{fill:#fff3e0!important;stroke:#f57c00!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .resend&gt;*{fill:#ffebee!important;stroke:#c62828!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .resend span{fill:#ffebee!important;stroke:#c62828!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .success&gt;*{fill:#e3f2fd!important;stroke:#1565c0!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .success span{fill:#e3f2fd!important;stroke:#1565c0!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .error&gt;*{fill:#fce4ec!important;stroke:#ad1457!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .error span{fill:#fce4ec!important;stroke:#ad1457!important;stroke-width:2px!important;}#mermaid-svg-1755121094125-nzuepsd7v .details&gt;*{fill:#f1f8e9!important;stroke:#558b2f!important;stroke-width:1px!important;stroke-dasharray:5 5!important;}#mermaid-svg-1755121094125-nzuepsd7v .details span{fill:#f1f8e9!important;stroke:#558b2f!important;stroke-width:1px!important;stroke-dasharray:5 5!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1755121094125-nzuepsd7v_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M388.048,54.6L388.048,58.767C388.048,62.933,388.048,71.267,388.048,78.717C388.048,86.167,388.048,92.733,388.048,96.017L388.048,99.3"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M388.048,140.6L388.048,144.767C388.048,148.933,388.048,157.267,388.048,164.717C388.048,172.167,388.048,178.733,388.048,182.017L388.048,185.3"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M388.048,226.6L388.048,230.767C388.048,234.933,388.048,243.267,388.048,250.717C388.048,258.167,388.048,264.733,388.048,268.017L388.048,271.3"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M388.048,312.6L388.048,316.767C388.048,320.933,388.048,329.267,388.048,336.717C388.048,344.167,388.048,350.733,388.048,354.017L388.048,357.3"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M388.048,417.2L388.048,421.367C388.048,425.533,388.048,433.867,388.048,442.867C388.048,451.867,388.048,461.533,388.048,466.367L388.048,471.2"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M388.048,512.5L388.048,518.217C388.048,523.933,388.048,535.367,372.462,545.033C356.876,554.699,325.704,562.599,310.118,566.548L294.532,570.498"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M218.364,607.8L218.364,611.967C218.364,616.133,218.364,624.467,218.364,631.917C218.364,639.367,218.364,645.933,218.364,649.217L218.364,652.5"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M218.364,712.4L218.364,716.567C218.364,720.733,218.364,729.067,218.364,736.517C218.364,743.967,218.364,750.533,218.364,753.817L218.364,757.1"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M218.364,817L218.364,821.167C218.364,825.333,218.364,833.667,218.43,841.2C218.496,848.734,218.628,855.467,218.694,858.834L218.76,862.201"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M184.35,903.5L173.306,909.133C162.261,914.767,140.172,926.033,129.127,938.05C118.083,950.067,118.083,962.833,118.083,969.217L118.083,975.6"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-L" id="L-J-L-0" d="M285.197,903.5L306.18,909.133C327.163,914.767,369.13,926.033,390.114,936.5C411.097,946.967,411.097,956.633,411.097,961.467L411.097,966.3"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M" id="L-L-M-0" d="M411.097,1026.2L411.097,1030.367C411.097,1034.533,411.097,1042.867,411.163,1050.4C411.229,1057.934,411.361,1064.667,411.427,1068.034L411.493,1071.401"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-N" id="L-M-N-0" d="M411.597,1112.7L411.514,1118.333C411.43,1123.967,411.264,1135.233,411.18,1145.7C411.097,1156.167,411.097,1165.833,411.097,1170.667L411.097,1175.5"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-O" id="L-M-O-0" d="M496.886,1110.562L529.456,1116.552C562.027,1122.541,627.167,1134.521,659.738,1145.344C692.308,1156.167,692.308,1165.833,692.308,1170.667L692.308,1175.5"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-P" id="L-O-P-0" d="M804.288,1215.926L832.484,1220.238C860.68,1224.551,917.072,1233.175,945.269,1240.771C973.465,1248.367,973.465,1254.933,973.465,1258.217L973.465,1261.5"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-Q" id="L-O-Q-0" d="M631.687,1216.8L617.654,1220.967C603.621,1225.133,575.556,1233.467,561.523,1244.017C547.491,1254.567,547.491,1267.333,547.491,1273.717L547.491,1280.1"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-R" id="L-O-R-0" d="M580.328,1208.266L514.208,1213.855C448.087,1219.444,315.846,1230.622,249.725,1243.944C183.605,1257.267,183.605,1272.733,183.605,1280.467L183.605,1288.2"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-S" id="L-P-S-0" d="M807.884,1372.523L791.674,1377.47C775.464,1382.416,743.044,1392.308,684.204,1413.506C625.363,1434.704,540.102,1467.208,497.472,1483.46L454.841,1499.712"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Q LE-S" id="L-Q-S-0" d="M547.491,1358.6L547.491,1365.867C547.491,1373.133,547.491,1387.667,527.741,1410.944C507.992,1434.221,468.493,1466.242,448.744,1482.252L428.994,1498.262"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-S" id="L-R-S-0" d="M183.605,1350.5L183.605,1359.117C183.605,1367.733,183.605,1384.967,213.74,1409.733C243.874,1434.499,304.144,1466.798,334.279,1482.947L364.414,1499.097"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S LE-T" id="L-S-T-0" d="M402.673,1537.6L402.673,1554.167C402.673,1570.733,402.673,1603.867,402.673,1623.717C402.673,1643.567,402.673,1650.133,402.673,1653.417L402.673,1656.7"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-T LE-U" id="L-T-U-0" d="M283.691,1781.166L271.055,1786.972C258.418,1792.778,233.146,1804.389,220.51,1817.361C207.874,1830.333,207.874,1844.667,207.874,1860.55C207.874,1876.433,207.874,1893.867,204.537,1907.566C201.201,1921.265,194.527,1931.231,191.19,1936.214L187.853,1941.196"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-V" id="L-U-V-0" d="M166.622,2000.2L166.622,2004.367C166.622,2008.533,166.622,2016.867,166.622,2024.317C166.622,2031.767,166.622,2038.333,166.622,2041.617L166.622,2044.9"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-T LE-W" id="L-T-W-0" d="M402.673,1791L402.673,1795.167C402.673,1799.333,402.673,1807.667,402.739,1815.2C402.805,1822.734,402.938,1829.467,403.004,1832.834L403.07,1836.201"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-W LE-X" id="L-W-X-0" d="M403.173,1877.5L403.09,1883.133C403.007,1888.767,402.84,1900.033,402.757,1912.05C402.673,1924.067,402.673,1936.833,402.673,1943.217L402.673,1949.6"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-W LE-U" id="L-W-U-0" d="M339.444,1872.056L305.74,1878.597C272.037,1885.138,204.63,1898.219,173.275,1909.679C141.919,1921.139,146.615,1930.978,148.962,1935.897L151.31,1940.817"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-P LE-Y" id="L-P-Y-0" d="M875.921,1377.2L868.558,1381.367C861.195,1385.533,846.47,1393.867,839.107,1401.317C831.744,1408.767,831.744,1415.333,831.744,1418.617L831.744,1421.9"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Z LE-AA" id="L-Z-AA-0" d="M118.083,417.2L118.083,421.367C118.083,425.533,118.083,433.867,118.083,441.317C118.083,448.767,118.083,455.333,118.083,458.617L118.083,461.9"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-AA LE-G" id="L-AA-G-0" d="M118.083,521.8L118.083,525.967C118.083,530.133,118.083,538.467,126.988,546.452C135.893,554.437,153.704,562.074,162.609,565.893L171.515,569.711"/><path marker-end="url(#mermaid-svg-1755121094125-nzuepsd7v_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-BB" id="L-P-BB-0" d="M1071.009,1377.2L1078.371,1381.367C1085.734,1385.533,1100.46,1393.867,1107.823,1407.517C1115.186,1421.167,1115.186,1440.133,1115.186,1449.617L1115.186,1459.1"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(118.08281707763672, 937.3000116348267)" class="edgeLabel"><g transform="translate(-9.3984375, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(411.09688568115234, 937.3000116348267)" class="edgeLabel"><g transform="translate(-11.325000762939453, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="22.650001525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(411.09688568115234, 1146.5000143051147)" class="edgeLabel"><g transform="translate(-9.3984375, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(692.3078308105469, 1146.5000143051147)" class="edgeLabel"><g transform="translate(-11.325000762939453, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="22.650001525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(402.67345428466797, 1911.3000192642212)" class="edgeLabel"><g transform="translate(-11.325000762939453, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="22.650001525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(137.22344970703125, 1911.3000192642212)" class="edgeLabel"><g transform="translate(-9.3984375, -9.300000190734863)" class="label"><foreignObject height="18.600000381469727" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(388.0484390258789, 27.30000114440918)" id="flowchart-A-2542" class="node default cronTrigger flowchart-label"><rect height="54.60000228881836" width="220.62188720703125" y="-27.30000114440918" x="-110.31094360351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-102.81094360351562, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="205.62188720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🕐 CRON: daily-email-trigger<br />Daily 1:30 AM EST</span></div></foreignObject></g></g><g transform="translate(388.0484390258789, 122.60000228881836)" id="flowchart-B-2543" class="node default default flowchart-label"><rect height="36" width="257.6906280517578" y="-18" x="-128.8453140258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-121.3453140258789, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="242.6906280517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📧 Fetch daily email subscriptions</span></div></foreignObject></g></g><g transform="translate(388.0484390258789, 208.60000228881836)" id="flowchart-C-2545" class="node default default flowchart-label"><rect height="36" width="209.19375610351562" y="-18" x="-104.59687805175781" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-97.09687805175781, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="194.19375610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">👥 Batch user subscriptions</span></div></foreignObject></g></g><g transform="translate(388.0484390258789, 294.60000228881836)" id="flowchart-D-2547" class="node default default flowchart-label"><rect height="36" width="269.8125305175781" y="-18" x="-134.90626525878906" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-127.40626525878906, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="254.81253051757812"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📤 Fan out send.daily.emails events</span></div></foreignObject></g></g><g transform="translate(388.0484390258789, 389.90000343322754)" id="flowchart-E-2549" class="node default inngestWorker flowchart-label"><rect height="54.60000228881836" width="161.2687530517578" y="-27.30000114440918" x="-80.6343765258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-73.1343765258789, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="146.2687530517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📧 send-daily-emails<br />(Inngest Worker)</span></div></foreignObject></g></g><g transform="translate(388.0484390258789, 494.5000057220459)" id="flowchart-F-2551" class="node default inngestWorker flowchart-label"><rect height="36" width="263.11875915527344" y="-18" x="-131.55937957763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-124.05937957763672, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="248.11875915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔍 Loop through user subscriptions</span></div></foreignObject></g></g><g transform="translate(218.36407852172852, 589.8000068664551)" id="flowchart-G-2553" class="node default emailService flowchart-label"><rect height="36" width="313.03125" y="-18" x="-156.515625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-149.015625, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="298.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📞 Call sendDojoReportByLanguageCode()</span></div></foreignObject></g></g><g transform="translate(218.36407852172852, 685.1000080108643)" id="flowchart-H-2555" class="node default emailService flowchart-label"><rect height="54.60000228881836" width="228.30938720703125" y="-27.30000114440918" x="-114.15469360351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-106.65469360351562, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="213.30938720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔎 Fetch language by code<br />(prisma.language.findUnique)</span></div></foreignObject></g></g><g transform="translate(218.36407852172852, 789.7000102996826)" id="flowchart-I-2557" class="node default emailService flowchart-label"><rect height="54.60000228881836" width="349.5093994140625" y="-27.30000114440918" x="-174.75469970703125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-167.25469970703125, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="334.5093994140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">👤 Fetch user subscription<br />(prisma.userLanguageSubscription.findUnique)</span></div></foreignObject></g></g><g transform="translate(218.36407852172852, 885.0000114440918)" id="flowchart-J-2559" class="node default default flowchart-label"><polygon style="" transform="translate(-92.94375610351562,18)" class="label-container" points="9,0 176.88751220703125,0 185.88751220703125,-18 176.88751220703125,-36 9,-36 0,-18"/><g transform="translate(-76.44375610351562, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="152.88751220703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">✅ Valid subscription?</span></div></foreignObject></g></g><g transform="translate(118.08281707763672, 998.9000129699707)" id="flowchart-K-2561" class="node default error flowchart-label"><rect height="36" width="185.10000610351562" y="-18" x="-92.55000305175781" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-85.05000305175781, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="170.10000610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">❌ Skip - not subscribed</span></div></foreignObject></g></g><g transform="translate(411.09688568115234, 998.9000129699707)" id="flowchart-L-2563" class="node default emailService flowchart-label"><rect height="54.60000228881836" width="300.9281311035156" y="-27.30000114440918" x="-150.4640655517578" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-142.9640655517578, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="285.9281311035156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📋 Get pre-generated summary<br />getUserSummary(userId, languageCode)</span></div></foreignObject></g></g><g transform="translate(411.09688568115234, 1094.2000141143799)" id="flowchart-M-2565" class="node default default flowchart-label"><polygon style="" transform="translate(-93.2203140258789,18)" class="label-container" points="9,0 177.4406280517578,0 186.4406280517578,-18 177.4406280517578,-36 9,-36 0,-18"/><g transform="translate(-76.7203140258789, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="153.4406280517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📝 Content available?</span></div></foreignObject></g></g><g transform="translate(411.09688568115234, 1198.8000144958496)" id="flowchart-N-2567" class="node default error flowchart-label"><rect height="36" width="238.46250915527344" y="-18" x="-119.23125457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-111.73125457763672, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="223.46250915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📝 Log: No content - skip email</span></div></foreignObject></g></g><g transform="translate(692.3078308105469, 1198.8000144958496)" id="flowchart-O-2569" class="node default template flowchart-label"><rect height="36" width="223.95938110351562" y="-18" x="-111.97969055175781" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-104.47969055175781, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="208.95938110351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🎨 Generate email templates</span></div></foreignObject></g></g><g transform="translate(973.4648857116699, 1322.000015258789)" id="flowchart-P-2571" class="node default template flowchart-label"><rect height="110.4000015258789" width="331.1625061035156" y="-55.20000076293945" x="-165.5812530517578" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-158.0812530517578, -47.70000076293945)" style="" class="label"><rect/><foreignObject height="95.4000015258789" width="316.1625061035156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📧 generateDailyDigestHTML()<br />• Gets user language preferences<br />• Formats responses with furigana/phonetic<br />• Creates numbered response blocks<br />• Adds styling and branding</span></div></foreignObject></g></g><g transform="translate(547.4906425476074, 1322.000015258789)" id="flowchart-Q-2573" class="node default template flowchart-label"><rect height="73.20000076293945" width="221.37188720703125" y="-36.60000038146973" x="-110.68594360351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-103.18594360351562, -29.100000381469727)" style="" class="label"><rect/><foreignObject height="58.20000076293945" width="206.37188720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📄 generateDailyDigestText()<br />• Plain text version<br />• Same content, no HTML</span></div></foreignObject></g></g><g transform="translate(183.6046905517578, 1322.000015258789)" id="flowchart-R-2575" class="node default template flowchart-label"><rect height="57" width="247.80938720703125" y="-28.5" x="-123.90469360351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-116.40469360351562, -21)" style="" class="label"><rect/><foreignObject height="42" width="232.80938720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📅 Generate subject line<br />🇯🇵 Dojo Report January 15, 2025</span></div></foreignObject></g></g><g transform="translate(402.67345428466797, 1519.6000175476074)" id="flowchart-S-2577" class="node default resend flowchart-label"><rect height="36" width="145.22813415527344" y="-18" x="-72.61406707763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-65.11406707763672, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="130.22813415527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📮 Resend API Call</span></div></foreignObject></g></g><g transform="translate(402.67345428466797, 1726.5000190734863)" id="flowchart-T-2583" class="node default resend flowchart-label"><rect height="129.00000762939453" width="237.96563720703125" y="-64.50000381469727" x="-118.98281860351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-111.48281860351562, -57.000003814697266)" style="" class="label"><rect/><foreignObject height="114.00000762939453" width="222.96563720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📊 resend.emails.send()<br />• from: 'Kondo '<br />• to: user email<br />• subject: language flag + date<br />• html: styled template<br />• text: plain text version</span></div></foreignObject></g></g><g transform="translate(166.62188720703125, 1972.9000205993652)" id="flowchart-U-2585" class="node default success flowchart-label"><rect height="54.60000228881836" width="193.10626220703125" y="-27.30000114440918" x="-96.55313110351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-89.05313110351562, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="178.10626220703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📈 Update database<br />lastEmailSent timestamp</span></div></foreignObject></g></g><g transform="translate(166.62188720703125, 2068.2000217437744)" id="flowchart-V-2587" class="node default success flowchart-label"><rect height="36" width="200.1750030517578" y="-18" x="-100.0875015258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-92.5875015258789, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="185.1750030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">✅ Email sent successfully</span></div></foreignObject></g></g><g transform="translate(402.67345428466797, 1859.0000190734863)" id="flowchart-W-2589" class="node default default flowchart-label"><polygon style="" transform="translate(-70.00782012939453,18)" class="label-container" points="9,0 131.01564025878906,0 140.01564025878906,-18 131.01564025878906,-36 9,-36 0,-18"/><g transform="translate(-53.50782012939453, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="107.01564025878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">⚠️ Send failed?</span></div></foreignObject></g></g><g transform="translate(402.67345428466797, 1972.9000205993652)" id="flowchart-X-2591" class="node default error flowchart-label"><rect height="36" width="178.99688720703125" y="-18" x="-89.49844360351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-81.99844360351562, -10.5)" style="" class="label"><rect/><foreignObject height="21" width="163.99688720703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">❌ Log error and throw</span></div></foreignObject></g></g><g transform="translate(831.743782043457, 1519.6000175476074)" id="flowchart-Y-2594" class="node default template details flowchart-label"><rect height="184.8000030517578" width="239.25003051757812" y="-92.4000015258789" x="-119.62501525878906" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-112.12501525878906, -84.9000015258789)" style="" class="label"><rect/><foreignObject height="169.8000030517578" width="224.25003051757812"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🎨 Email Template Components<br />• User name personalization<br />• Current date formatting<br />• Language-specific formatting<br />• Response content blocks<br />• Furigana/phonetic display<br />• Bookmark information<br />• CTA button to Kondo<br />• Unsubscribe footer</span></div></foreignObject></g></g><g transform="translate(118.08281707763672, 389.90000343322754)" id="flowchart-Z-2597" class="node default cronTrigger flowchart-label"><rect height="54.60000228881836" width="236.16563415527344" y="-27.30000114440918" x="-118.08281707763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-110.58281707763672, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="221.16563415527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🕐 CRON: weekly-email-trigger<br />Sunday 1:00 AM EST</span></div></foreignObject></g></g><g transform="translate(118.08281707763672, 494.5000057220459)" id="flowchart-AA-2598" class="node default default flowchart-label"><rect height="54.60000228881836" width="176.8125" y="-27.30000114440918" x="-88.40625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-80.90625, -19.80000114440918)" style="" class="label"><rect/><foreignObject height="39.60000228881836" width="161.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📧 send-weekly-emails<br />(Same flow as daily)</span></div></foreignObject></g></g><g transform="translate(1115.1859893798828, 1519.6000175476074)" id="flowchart-BB-2601" class="node default template details flowchart-label"><rect height="110.4000015258789" width="227.63438415527344" y="-55.20000076293945" x="-113.81719207763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-106.31719207763672, -47.70000076293945)" style="" class="label"><rect/><foreignObject height="95.4000015258789" width="212.63438415527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📝 formatResponseHTML()<br />• Handles furigana display<br />• Applies phonetic formatting<br />• Manages kana preferences<br />• Creates responsive layout</span></div></foreignObject></g></g></g></g></g></svg>