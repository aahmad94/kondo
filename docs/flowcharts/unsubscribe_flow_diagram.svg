<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 690.427734375 2367.8828125" style="max-width: 690.427734375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1762545444585-6zi7twvhh"><style>#mermaid-svg-1762545444585-6zi7twvhh{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh .error-icon{fill:#5a1d1d;}#mermaid-svg-1762545444585-6zi7twvhh .error-text{fill:#f48771;stroke:#f48771;}#mermaid-svg-1762545444585-6zi7twvhh .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1762545444585-6zi7twvhh .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1762545444585-6zi7twvhh .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1762545444585-6zi7twvhh .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1762545444585-6zi7twvhh .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1762545444585-6zi7twvhh .marker{fill:#cccccc;stroke:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh .marker.cross{stroke:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1762545444585-6zi7twvhh .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh .cluster-label text{fill:#e7e7e7;}#mermaid-svg-1762545444585-6zi7twvhh .cluster-label span,#mermaid-svg-1762545444585-6zi7twvhh p{color:#e7e7e7;}#mermaid-svg-1762545444585-6zi7twvhh .label text,#mermaid-svg-1762545444585-6zi7twvhh span,#mermaid-svg-1762545444585-6zi7twvhh p{fill:#cccccc;color:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh .node rect,#mermaid-svg-1762545444585-6zi7twvhh .node circle,#mermaid-svg-1762545444585-6zi7twvhh .node ellipse,#mermaid-svg-1762545444585-6zi7twvhh .node polygon,#mermaid-svg-1762545444585-6zi7twvhh .node path{fill:#1e1e1e;stroke:#6b6b6b;stroke-width:1px;}#mermaid-svg-1762545444585-6zi7twvhh .flowchart-label text{text-anchor:middle;}#mermaid-svg-1762545444585-6zi7twvhh .node .label{text-align:center;}#mermaid-svg-1762545444585-6zi7twvhh .node.clickable{cursor:pointer;}#mermaid-svg-1762545444585-6zi7twvhh .arrowheadPath{fill:#e1e1e1;}#mermaid-svg-1762545444585-6zi7twvhh .edgePath .path{stroke:#cccccc;stroke-width:2.0px;}#mermaid-svg-1762545444585-6zi7twvhh .flowchart-link{stroke:#cccccc;fill:none;}#mermaid-svg-1762545444585-6zi7twvhh .edgeLabel{background-color:#1e1e1e99;text-align:center;}#mermaid-svg-1762545444585-6zi7twvhh .edgeLabel rect{opacity:0.5;background-color:#1e1e1e99;fill:#1e1e1e99;}#mermaid-svg-1762545444585-6zi7twvhh .labelBkg{background-color:rgba(30, 30, 30, 0.5);}#mermaid-svg-1762545444585-6zi7twvhh .cluster rect{fill:#3a3d41;stroke:#303031;stroke-width:1px;}#mermaid-svg-1762545444585-6zi7twvhh .cluster text{fill:#e7e7e7;}#mermaid-svg-1762545444585-6zi7twvhh .cluster span,#mermaid-svg-1762545444585-6zi7twvhh p{color:#e7e7e7;}#mermaid-svg-1762545444585-6zi7twvhh div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#4d4d4d;border:1px solid #007fd4;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1762545444585-6zi7twvhh .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#cccccc;}#mermaid-svg-1762545444585-6zi7twvhh :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-1762545444585-6zi7twvhh .tokenProcess rect{fill:#d1ecf1!important;stroke:#0c5460!important;}#mermaid-svg-1762545444585-6zi7twvhh .tokenProcess polygon{fill:#d1ecf1!important;stroke:#0c5460!important;}#mermaid-svg-1762545444585-6zi7twvhh .tokenProcess ellipse{fill:#d1ecf1!important;stroke:#0c5460!important;}#mermaid-svg-1762545444585-6zi7twvhh .tokenProcess circle{fill:#d1ecf1!important;stroke:#0c5460!important;}#mermaid-svg-1762545444585-6zi7twvhh .tokenProcess path{fill:#d1ecf1!important;stroke:#0c5460!important;}#mermaid-svg-1762545444585-6zi7twvhh .emailProcess rect{fill:#fff3cd!important;stroke:#856404!important;}#mermaid-svg-1762545444585-6zi7twvhh .emailProcess polygon{fill:#fff3cd!important;stroke:#856404!important;}#mermaid-svg-1762545444585-6zi7twvhh .emailProcess ellipse{fill:#fff3cd!important;stroke:#856404!important;}#mermaid-svg-1762545444585-6zi7twvhh .emailProcess circle{fill:#fff3cd!important;stroke:#856404!important;}#mermaid-svg-1762545444585-6zi7twvhh .emailProcess path{fill:#fff3cd!important;stroke:#856404!important;}#mermaid-svg-1762545444585-6zi7twvhh .apiProcess rect{fill:#cfe2ff!important;stroke:#084298!important;}#mermaid-svg-1762545444585-6zi7twvhh .apiProcess polygon{fill:#cfe2ff!important;stroke:#084298!important;}#mermaid-svg-1762545444585-6zi7twvhh .apiProcess ellipse{fill:#cfe2ff!important;stroke:#084298!important;}#mermaid-svg-1762545444585-6zi7twvhh .apiProcess circle{fill:#cfe2ff!important;stroke:#084298!important;}#mermaid-svg-1762545444585-6zi7twvhh .apiProcess path{fill:#cfe2ff!important;stroke:#084298!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1762545444585-6zi7twvhh_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M339.957,33.5L339.957,37.667C339.957,41.833,339.957,50.167,339.957,57.617C339.957,65.067,339.957,71.633,339.957,74.917L339.957,78.2"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M339.957,117L339.957,121.167C339.957,125.333,339.957,133.667,339.957,141.117C339.957,148.567,339.957,155.133,339.957,158.417L339.957,161.7"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M339.957,216.5L339.957,220.667C339.957,224.833,339.957,233.167,339.957,240.617C339.957,248.067,339.957,254.633,339.957,257.917L339.957,261.2"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M339.957,316L339.957,320.167C339.957,324.333,339.957,332.667,339.957,340.117C339.957,347.567,339.957,354.133,339.957,357.417L339.957,360.7"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M339.957,399.5L339.957,403.667C339.957,407.833,339.957,416.167,339.957,423.617C339.957,431.067,339.957,437.633,339.957,440.917L339.957,444.2"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M339.957,499L339.957,503.167C339.957,507.333,339.957,515.667,339.957,523.117C339.957,530.567,339.957,537.133,339.957,540.417L339.957,543.7"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M339.957,582.5L339.957,586.667C339.957,590.833,339.957,599.167,339.957,606.617C339.957,614.067,339.957,620.633,339.957,623.917L339.957,627.2"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M339.957,666L339.957,670.167C339.957,674.333,339.957,682.667,340.023,690.2C340.089,697.734,340.221,704.467,340.287,707.834L340.353,711.201"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M293.851,860.636L280.888,874.029C267.925,887.421,242,914.207,229.037,933.758C216.074,953.309,216.074,965.626,216.074,971.784L216.074,977.942"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-K" id="L-I-K-0" d="M387.063,860.636L399.859,874.029C412.655,887.421,438.248,914.207,451.044,932.424C463.84,950.642,463.84,960.292,463.84,965.117L463.84,969.942"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M463.84,1024.742L463.84,1028.909C463.84,1033.076,463.84,1041.409,463.84,1048.859C463.84,1056.309,463.84,1062.876,463.84,1066.159L463.84,1069.442"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M" id="L-L-M-0" d="M463.84,1124.242L463.84,1128.409C463.84,1132.576,463.84,1140.909,463.84,1148.359C463.84,1155.809,463.84,1162.376,463.84,1165.659L463.84,1168.942"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-N" id="L-M-N-0" d="M463.84,1207.742L463.84,1211.909C463.84,1216.076,463.84,1224.409,463.906,1231.942C463.972,1239.476,464.104,1246.21,464.17,1249.576L464.236,1252.943"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O" id="L-N-O-0" d="M497.329,1349.034L510.038,1360.157C522.746,1371.28,548.163,1393.527,560.872,1409.475C573.58,1425.423,573.58,1435.073,573.58,1439.898L573.58,1444.723"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-P" id="L-N-P-0" d="M430.837,1348.521L417.427,1359.729C404.017,1370.938,377.197,1393.356,363.787,1409.39C350.377,1425.423,350.377,1435.073,350.377,1439.898L350.377,1444.723"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-Q" id="L-P-Q-0" d="M350.377,1499.523L350.377,1503.69C350.377,1507.857,350.377,1516.19,350.377,1523.64C350.377,1531.09,350.377,1537.657,350.377,1540.94L350.377,1544.223"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Q LE-R" id="L-Q-R-0" d="M350.377,1599.023L350.377,1603.19C350.377,1607.357,350.377,1615.69,350.377,1623.14C350.377,1630.59,350.377,1637.157,350.377,1640.44L350.377,1643.723"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-S" id="L-R-S-0" d="M350.377,1682.523L350.377,1686.69C350.377,1690.857,350.377,1699.19,350.443,1706.724C350.509,1714.257,350.641,1720.991,350.707,1724.358L350.773,1727.724"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S LE-T" id="L-S-T-0" d="M352.091,1867.169L352.115,1872.996C352.14,1878.824,352.189,1890.478,352.214,1901.131C352.238,1911.783,352.238,1921.433,352.238,1926.258L352.238,1931.083"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S LE-U" id="L-S-U-0" d="M394.99,1824.27L419.354,1837.247C443.719,1850.224,492.447,1876.178,516.812,1893.981C541.176,1911.783,541.176,1921.433,541.176,1926.258L541.176,1931.083"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S LE-V" id="L-S-V-0" d="M303.757,1821.263L272.593,1834.741C241.429,1848.22,179.101,1875.176,147.937,1894.813C116.773,1914.449,116.773,1926.766,116.773,1932.924L116.773,1939.083"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-V LE-W" id="L-V-W-0" d="M116.773,1977.883L116.773,1983.383C116.773,1988.883,116.773,1999.883,116.773,2008.666C116.773,2017.449,116.773,2024.016,116.773,2027.299L116.773,2030.583"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-W LE-X" id="L-W-X-0" d="M116.773,2085.383L116.773,2089.549C116.773,2093.716,116.773,2102.049,116.773,2109.499C116.773,2116.949,116.773,2123.516,116.773,2126.799L116.773,2130.083"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-X LE-Y" id="L-X-Y-0" d="M116.773,2168.883L116.773,2173.049C116.773,2177.216,116.773,2185.549,116.773,2192.999C116.773,2200.449,116.773,2207.016,116.773,2210.299L116.773,2213.583"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Y LE-Z" id="L-Y-Z-0" d="M116.773,2252.383L116.773,2256.549C116.773,2260.716,116.773,2269.049,116.773,2276.499C116.773,2283.949,116.773,2290.516,116.773,2293.799L116.773,2297.083"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-T LE-AA" id="L-T-AA-0" d="M352.238,1985.883L352.238,1990.049C352.238,1994.216,352.238,2002.549,361.9,2011.805C371.563,2021.06,390.887,2031.236,400.549,2036.325L410.212,2041.413"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-AA" id="L-U-AA-0" d="M541.176,1985.883L541.176,1990.049C541.176,1994.216,541.176,2002.549,531.514,2011.805C521.851,2021.06,502.527,2031.236,492.865,2036.325L483.203,2041.413"/><path marker-end="url(#mermaid-svg-1762545444585-6zi7twvhh_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-AB" id="L-O-AB-0" d="M573.58,1499.523L573.58,1503.69C573.58,1507.857,573.58,1516.19,573.58,1524.973C573.58,1533.757,573.58,1542.99,573.58,1547.607L573.58,1552.223"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(216.07421875, 940.9921875)" class="edgeLabel"><g transform="translate(-9.3984375, -9.25)" class="label"><rect height="18.500244140625" width="18.797122955322266" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">No</tspan></text></g></g><g transform="translate(463.83984375, 940.9921875)" class="edgeLabel"><g transform="translate(-11.32421875, -9.25)" class="label"><rect height="18.500244140625" width="22.64873695373535" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Yes</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(573.580078125, 1415.7734375)" class="edgeLabel"><g transform="translate(-9.3984375, -9.25)" class="label"><rect height="18.500244140625" width="18.797122955322266" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">No</tspan></text></g></g><g transform="translate(350.376953125, 1415.7734375)" class="edgeLabel"><g transform="translate(-11.32421875, -9.25)" class="label"><rect height="18.500244140625" width="22.64873695373535" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Yes</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(352.23828125, 1902.1328125)" class="edgeLabel"><g transform="translate(-69, -9.25)" class="label"><rect height="18.500244140625" width="137.9627685546875" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">No - Invalid Format</tspan></text></g></g><g transform="translate(541.17578125, 1902.1328125)" class="edgeLabel"><g transform="translate(-77.3671875, -9.25)" class="label"><rect height="18.500244140625" width="154.68954467773438" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">No - Expired &gt;30 days</tspan></text></g></g><g transform="translate(116.7734375, 1902.1328125)" class="edgeLabel"><g transform="translate(-11.32421875, -9.25)" class="label"><rect height="18.500244140625" width="22.64873695373535" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Yes</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g></g><g class="nodes"><g transform="translate(339.95703125, 16.75)" id="flowchart-A-320" class="node default default flowchart-label"><rect height="33.5" width="199.2890625" y="-16.75" x="-99.64453125" ry="0" rx="0" style="fill:#e1f5e1;" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">User Subscribed to Emails</tspan></text></g></g><g transform="translate(339.95703125, 100.25)" id="flowchart-B-321" class="node default default flowchart-label"><rect height="33.5" width="170.65625" y="-16.75" x="-85.328125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Daily Digest Triggered</tspan></text></g></g><g transform="translate(339.95703125, 191.75)" id="flowchart-C-323" class="node default emailProcess flowchart-label"><rect height="49.5" width="248.7578125" y="-24.75" x="-124.37890625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">emailService.ts:</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">sendDailyDigest/sendDojoReport</tspan></text></g></g><g transform="translate(339.95703125, 291.25)" id="flowchart-D-325" class="node default tokenProcess flowchart-label"><rect height="49.5" width="290.5" y="-24.75" x="-145.25" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Generate Unsubscribe Token</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">userId + timestamp encoded in base64</tspan></text></g></g><g transform="translate(339.95703125, 382.75)" id="flowchart-E-327" class="node default tokenProcess flowchart-label"><rect height="33.5" width="225.5390625" y="-16.75" x="-112.76953125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Pass Token to Email Template</tspan></text></g></g><g transform="translate(339.95703125, 474.25)" id="flowchart-F-329" class="node default tokenProcess flowchart-label"><rect height="49.5" width="257.015625" y="-24.75" x="-128.5078125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Generate Email HTML &amp;amp; Text</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">with token in unsubscribe link</tspan></text></g></g><g transform="translate(339.95703125, 565.75)" id="flowchart-G-331" class="node default emailProcess flowchart-label"><rect height="33.5" width="200.8828125" y="-16.75" x="-100.44140625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Send Email via Resend API</tspan></text></g></g><g transform="translate(339.95703125, 649.25)" id="flowchart-H-333" class="node default emailProcess flowchart-label"><rect height="33.5" width="157.6171875" y="-16.75" x="-78.80859375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">User Receives Email</tspan></text></g></g><g transform="translate(339.95703125, 811.37109375)" id="flowchart-I-335" class="node default default flowchart-label"><polygon style="" transform="translate(-95.37109375,95.37109375)" class="label-container" points="95.37109375,0 190.7421875,-95.37109375 95.37109375,-190.7421875 0,-95.37109375"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">User Clicks</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Unsubscribe Link?</tspan></text></g></g><g transform="translate(216.07421875, 999.9921875)" id="flowchart-J-337" class="node default default flowchart-label"><rect height="33.5" width="208.921875" y="-16.75" x="-104.4609375" ry="0" rx="0" style="fill:#fff3cd;" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Continues Receiving Emails</tspan></text></g></g><g transform="translate(463.83984375, 999.9921875)" id="flowchart-K-339" class="node default default flowchart-label"><rect height="49.5" width="186.609375" y="-24.75" x="-93.3046875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Navigate to</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">/unsubscribe?token=xxx</tspan></text></g></g><g transform="translate(463.83984375, 1099.4921875)" id="flowchart-L-341" class="node default default flowchart-label"><rect height="49.5" width="184.53125" y="-24.75" x="-92.265625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Unsubscribe Page Loads</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">page.tsx</tspan></text></g></g><g transform="translate(463.83984375, 1190.9921875)" id="flowchart-M-343" class="node default default flowchart-label"><rect height="33.5" width="184.203125" y="-16.75" x="-92.1015625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Extract Token from URL</tspan></text></g></g><g transform="translate(463.83984375, 1319.6328125)" id="flowchart-N-345" class="node default default flowchart-label"><polygon style="" transform="translate(-61.890625,61.890625)" class="label-container" points="61.890625,0 123.78125,-61.890625 61.890625,-123.78125 0,-61.890625"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Token</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Present?</tspan></text></g></g><g transform="translate(573.580078125, 1474.7734375)" id="flowchart-O-347" class="node default default flowchart-label"><rect height="49.5" width="98.4375" y="-24.75" x="-49.21875" ry="0" rx="0" style="fill:#f8d7da;" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Show Error:</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Invalid Link</tspan></text></g></g><g transform="translate(350.376953125, 1474.7734375)" id="flowchart-P-349" class="node default apiProcess flowchart-label"><rect height="49.5" width="211.5546875" y="-24.75" x="-105.77734375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Call POST /api/unsubscribe</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">with token</tspan></text></g></g><g transform="translate(350.376953125, 1574.2734375)" id="flowchart-Q-351" class="node default apiProcess flowchart-label"><rect height="49.5" width="144.7109375" y="-24.75" x="-72.35546875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">API Route Handler</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">route.ts</tspan></text></g></g><g transform="translate(350.376953125, 1665.7734375)" id="flowchart-R-353" class="node default tokenProcess flowchart-label"><rect height="33.5" width="200.40625" y="-16.75" x="-100.203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">validateUnsubscribeToken</tspan></text></g></g><g transform="translate(350.376953125, 1800.203125)" id="flowchart-S-355" class="node default tokenProcess flowchart-label"><polygon style="" transform="translate(-67.6796875,67.6796875)" class="label-container" points="67.6796875,0 135.359375,-67.6796875 67.6796875,-135.359375 0,-67.6796875"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Token Valid?</tspan></text></g></g><g transform="translate(352.23828125, 1961.1328125)" id="flowchart-T-357" class="node default default flowchart-label"><rect height="49.5" width="138.9375" y="-24.75" x="-69.46875" ry="0" rx="0" style="fill:#f8d7da;" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Return 400 Error:</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Invalid Token</tspan></text></g></g><g transform="translate(541.17578125, 1961.1328125)" id="flowchart-U-359" class="node default default flowchart-label"><rect height="49.5" width="138.9375" y="-24.75" x="-69.46875" ry="0" rx="0" style="fill:#f8d7da;" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Return 400 Error:</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Token Expired</tspan></text></g></g><g transform="translate(116.7734375, 1961.1328125)" id="flowchart-V-361" class="node default tokenProcess flowchart-label"><rect height="33.5" width="199.9453125" y="-16.75" x="-99.97265625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Extract userId from Token</tspan></text></g></g><g transform="translate(116.7734375, 2060.6328125)" id="flowchart-W-363" class="node default apiProcess flowchart-label"><rect height="49.5" width="233.546875" y="-24.75" x="-116.7734375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">unsubscribeUserFromEmails</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Update user.subscribed = false</tspan></text></g></g><g transform="translate(116.7734375, 2152.1328125)" id="flowchart-X-365" class="node default apiProcess flowchart-label"><rect height="33.5" width="232.890625" y="-16.75" x="-116.4453125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Set user.unsubscribedAt = now</tspan></text></g></g><g transform="translate(116.7734375, 2235.6328125)" id="flowchart-Y-367" class="node default apiProcess flowchart-label"><rect height="33.5" width="151.2109375" y="-16.75" x="-75.60546875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Return 200 Success</tspan></text></g></g><g transform="translate(116.7734375, 2327.1328125)" id="flowchart-Z-369" class="node default default flowchart-label"><rect height="49.5" width="219.4140625" y="-24.75" x="-109.70703125" ry="0" rx="0" style="fill:#e1f5e1;" class="basic label-container"/><g transform="translate(0, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Display Success Message</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">with Return to Kondo button</tspan></text></g></g><g transform="translate(446.70703125, 2060.6328125)" id="flowchart-AA-371" class="node default default flowchart-label"><rect height="33.5" width="169.4296875" y="-16.75" x="-84.71484375" ry="0" rx="0" style="fill:#f8d7da;" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Display Error Message</tspan></text></g></g><g transform="translate(573.580078125, 1574.2734375)" id="flowchart-AB-375" class="node default default flowchart-label"><rect height="33.5" width="201.6953125" y="-16.75" x="-100.84765625" ry="0" rx="0" style="fill:#f8d7da;" class="basic label-container"/><g transform="translate(0, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Show Invalid Link Message</tspan></text></g></g></g></g></g></svg>